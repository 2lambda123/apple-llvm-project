RUN: rm -rf %t && mkdir -p %t
RUN: clang %S/Inputs/test_a.cpp -c -gcas-friendly-debug-info --target=x86_64-apple-darwin21.1.0 -o %t/test_a.o
RUN: clang %S/Inputs/test_b.cpp -c -gcas-friendly-debug-info --target=x86_64-apple-darwin21.1.0 -o %t/test_b.o
RUN: find %t -name "*.o" &> %t/objects_to_ingest

RUN: llvm-cas-object-format --cas %t/cas --ingest-schema=flatv1 @%t/objects_to_ingest -silent > %t/output.casid  
RUN: llvm-cas --ls-object-recursive @%t/output.casid --cas %t/cas | FileCheck %s --strict-whitespace

CHECK:llvmcas://{{[0-9a-z]}}
CHECK-NEXT:   llvmcas://{{[0-9a-z]}}
CHECK-NEXT:      llvmcas://{{[0-9a-z]}}
CHECK-NEXT:         llvmcas://{{[0-9a-z]}}
CHECK-NEXT:            llvmcas://{{[0-9a-z]}}
CHECK-NEXT:               llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                        llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                        llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                        llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                        llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                        llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                        llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:               llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                        llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                        llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                        llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                        llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                        llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                     llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                        llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
CHECK-NEXT:                  llvmcas://{{[0-9a-z]}}
